<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Esensorics test prototype</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link rel="stylesheet" href="style.css">
  <script>

  $(function() {   
   

	$( "#draggable_item1, #draggable_item2, #draggable_item3, #draggable_item4" ).draggable({containment: "#drag_window", snap: "#canvas", snapMode: "inner", snapTolerance: 32});
      
      
       var position = $("#draggable_item1").offset();
      var x1 = position.left - 30;
      var y1 = position.top - 130;
      
	  $( "#drag_window" ).droppable({
  drop: function(event,ui) {
    
      if(true){
    $(ui.draggable).animate({ top: y1, left:x1},400);
     // var draggableId = ui.draggable.attr("id");
       $(ui.draggable).effect( "bounce", 
          {times:3}, 300 );
      
      }
  }
        
});
      
      
       $( "#canvas" ).droppable({
                  greedy: true
});
      
      
        $( "#canvas" ).droppable({
  drop: function(event,ui) {
    var top= $( "#ax_t" ).val();
    var bott= $( "#ax_b" ).val();
     var left = $( "#ax_l" ).val();
     var right= $( "#ax_r" ).val();
      
   //to be replaced by a condition about axis   
      if((top == "") || (bott == "") ||(left == "")||(right == "")){
       
            
          if(bott == ""){
          $("#ax_b").css({'background-color' : '#FFBF00'});
          $("#ax_b").effect( "bounce", 
          {times:2}, 300 );
          $("#ax_b").focus();
          }   
          if(left == ""){
          $("#ax_l").css({'background-color' : '#FFBF00'});
          $("#ax_l").effect( "bounce", 
          {times:2}, 300 );
          $("#ax_l").focus();

          }   
          if(right == ""){
          $("#ax_r").css({'background-color' : '#FFBF00'});
          $("#ax_r").effect( "bounce", 
          {times:2}, 300 );
          $("#ax_r").focus();

          } 
          if(top == ""){
          $("#ax_t").css({'background-color' : '#FFBF00'});
          $("#ax_t").effect( "bounce", 
          {times:2}, 300 );
          $("#ax_t").focus();
          }  
          
     //   alert("To be able to drag items into canvas, please name all the axis first" );  
    $(ui.draggable).animate({ top: y1, left:x1},400);
     // var draggableId = ui.draggable.attr("id");
       $(ui.draggable).effect( "bounce", 
          {times:3}, 300 );
      
      }
  }
        
});


  });
      
  </script>
</head>
<body>

<h1>Candy test</h1>
<p>Dear visitor, thank you for tasting the candy samples. Please move the samples to the axes accordingly.</p>
 <div id="drag_window">
<div id="items">
	<div id="draggable_item1" class="draggable_content">
	  <p>Sample 1</p>
	  <p id="add_tag_link1"><a href="javascript:$('#add_tag_layer1').toggle();">Add tag</a></p>
	  <div id="add_tag_layer1" class="add_tag_layer">
	  	<input id="add_tag_newtag1" type="text" value="" />
	  	<input type="button" name="tag" value="Add" onclick="javascript:$('#add_tag_link1').html('(' + $('#add_tag_newtag1').val() + ') <a href=&quot;javascript:$(\'#add_tag_layer1\').toggle();&quot;><img src=&quot;img/icon_edit.png&quot; width=&quot;10&quot; /></a>'); $('#add_tag_layer1').toggle();" />
	  </div>
	</div>

	<div id="draggable_item2" class="draggable_content">
	  <p>Sample 2</p>
	  <p id="add_tag_link2"><a href="javascript:$('#add_tag_layer2').toggle();">Add tag</a></p>
	  <div id="add_tag_layer2" class="add_tag_layer">
	  	<input id="add_tag_newtag2" type="text" value="" />
	  	<input type="button" name="tag" value="Add" onclick="javascript:$('#add_tag_link2').html('(' + $('#add_tag_newtag2').val() + ') <a href=&quot;javascript:$(\'#add_tag_layer2\').toggle();&quot;><img src=&quot;img/icon_edit.png&quot; width=&quot;10&quot; /></a>'); $('#add_tag_layer2').toggle();" />
	  </div>
	</div>

	<div id="draggable_item3" class="draggable_content">
	  <p>Sample 3</p>
	  <p id="add_tag_link3"><a href="javascript:$('#add_tag_layer3').toggle();">Add tag</a></p>
	  <div id="add_tag_layer3" class="add_tag_layer">
	  	<input id="add_tag_newtag3" type="text" value="" />
	  	<input type="button" name="tag" value="Add" onclick="javascript:$('#add_tag_link3').html('(' + $('#add_tag_newtag3').val() + ') <a href=&quot;javascript:$(\'#add_tag_layer3\').toggle();&quot;><img src=&quot;img/icon_edit.png&quot; width=&quot;10&quot; /></a>'); $('#add_tag_layer3').toggle();" />
	  </div>
	</div>

	<div id="draggable_item4" class="draggable_content">
	  <p>Sample 4</p>
	  <p id="add_tag_link4"><a href="javascript:$('#add_tag_layer4').toggle();">Add tag</a></p>
	  <div id="add_tag_layer4" class="add_tag_layer">
	  	<input id="add_tag_newtag4" type="text" value="" />
	  	<input type="button" name="tag" value="Add" onclick="javascript:$('#add_tag_link4').html('(' + $('#add_tag_newtag4').val() + ') <a href=&quot;javascript:$(\'#add_tag_layer4\').toggle();&quot;><img src=&quot;img/icon_edit.png&quot; width=&quot;10&quot; /></a>'); $('#add_tag_layer4').toggle();" />
	  </div>
	</div>
</div>   



<div id="canvas">
	<script type="text/javascript">
		//$('#canvas').html('canvas: '+samplesList[2]['name']);
	</script>
	<div id="axis_horisontal"></div>
	<div id="axis_vertical"></div>
  
	<div id="axisname_top">
<input class="axis_name" id="ax_t" type="text" placeholder="Name this axis" size="13" maxlength="13"><br>
</div>  

  <div id="axisname_bottom">
<input class="axis_name" id="ax_b" type="text" placeholder="Name this axis" size="13" maxlength="13"><br>
</div>

	<div id="axisname_left">

<input class="axis_name" id="ax_l" type="text" placeholder="Name this axis" size="13" maxlength="13"><br>
</div>

	<div id="axisname_right" >

<input class="axis_name" id="ax_r" type="text" placeholder="Name this axis" size="13" maxlength="13"><br>


  

</div>

     </div>

 
</body>
</html>

